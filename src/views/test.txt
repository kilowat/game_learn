import * as ex from "excalibur";

const game = new ex.Engine({
    width: 800,
    height: 600,
});

// Массив актёров
const actors: ex.Actor[] = [];

// Создадим несколько ячеек
for (let i = 0; i < 3; i++) {
    const actor = new ex.Actor({
        x: 100 + i * 150,
        y: 300,
        width: 100,
        height: 100,
        color: ex.Color.Red,
    });

    actors.push(actor);
    game.add(actor);

    // Подсветка при наведении
    actor.on("pointerenter", (e) => {
        const bounds = actor.collider.bounds;
        const pointerPos = e.worldPos;

        if (bounds.contains(pointerPos)) {
            console.log('pointerenter')
        }

    });

    actor.on("pointerleave", (e) => {
        const bounds = actor.collider.bounds;
        const pointerPos = e.worldPos;

        if (!bounds.contains(pointerPos)) {
            console.log('leave')
        }

    });
}

// Глобальный трекер текущего объекта под указателем
let currentActor: ex.Actor | null = null;


game.start();
